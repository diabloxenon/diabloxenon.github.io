<!DOCTYPE html>
<html lang="en">

<head>
    

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="icon" href="/favicon.ico" type="image/x-icon">



<title>All about GPG - diabloxenon | nmnx.org</title>
<meta property="og:title" content="All about GPG - diabloxenon | nmnx.org">
<meta property="twitter:title" content="All about GPG - diabloxenon | nmnx.org">


<meta name="description" content="One guide to rule GPG all! In this noob friendly guide, we will learn how to generate, use and sign stuff with GNU Privacy Guard. After reading this guide, your private life will be much more private than ever.
">
<meta property="og:description" content="One guide to rule GPG all! In this noob friendly guide, we will learn how to generate, use and sign stuff with GNU Privacy Guard. After reading this guide, your private life will be much more private than ever.
">
<meta property="twitter:description" content="One guide to rule GPG all! In this noob friendly guide, we will learn how to generate, use and sign stuff with GNU Privacy Guard. After reading this guide, your private life will be much more private than ever.
">


<meta property="og:url" content="https://nmnx.org/journal/about-gpg/">
<meta property="og:locale" content="en-UK">
<meta property="og:image" content="">
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:image" content="">
<meta name="twitter:site" content="https://infosec.exchange/@diabloxenon">
<meta name="twitter:creator" content="@diabloxenon">




    <link rel="stylesheet" href="/xeno.css"
        integrity="sha512-2KY3A4bvRutyprUJSInCFpoetpjckEGQ6nifq/EAayQAE3ABiN1W9Z/ahzOUIEJGivJPF6ZqmmCUDExq7SHACg==">
</head>

<body class="xeno">
    
<div class="buckt">
    <header class="navbar row">
        <div class="col-1 col-sm-12 row">
            <div class="col-3 col-sm-12" style="display: inline-flex;"><a
                    href="https:&#x2F;&#x2F;nmnx.org">diabloxenon</a>:~#&nbsp;
                <input id="search" placeholder="find stuff" autofocus></input>
            </div>
        </div>
        <nav class="navlinks col-5 col-sm-12 row">
            <ul class="group col-8 col-sm-12">
                
                <li><a class=""
                         href="https:&#x2F;&#x2F;nmnx.org&#x2F;awards"
                        title="awards" rel="nofollow noreferrer">/awards</a></li>
                
                <li><a class=""
                         href="https:&#x2F;&#x2F;nmnx.org&#x2F;journal"
                        title="journal" rel="nofollow noreferrer">/journal</a></li>
                
                <li><a class=""
                         href="https:&#x2F;&#x2F;nmnx.org&#x2F;dev"
                        title="dev" rel="nofollow noreferrer">/dev</a></li>
                
                <li><a class=""
                         href="https:&#x2F;&#x2F;nmnx.org&#x2F;tags"
                        title="tags" rel="nofollow noreferrer">/tags</a></li>
                
            </ul>
            <ul class="social col-4 col-sm-12">
                
                <li>

                    <a href="https://github.com/diabloxenon" target="_blank" rel="nofollow noreferrer"><img class="img-icon"
                            src="&#x2F;icons&#x2F;github.svg" alt="Github"></a>
                </li>
                
                <li>

                    <a href="https://gitlab.com/diabloxenon" target="_blank" rel="nofollow noreferrer"><img class="img-icon"
                            src="&#x2F;icons&#x2F;gitlab.svg" alt="Gitlab"></a>
                </li>
                
                <li>

                    <a href="https://infosec.exchange/@xld" target="_blank" rel="nofollow noreferrer me"><img class="img-icon"
                            src="&#x2F;icons&#x2F;mastodon.svg" alt="Mastodon"></a>
                </li>
                
            </ul>
        </nav>
    </header>
</div>


    
<div class="buckt">
    <div class="search-results">
        <h1>Search Results</h1>
        <noscript>Enable Javascript to use the search feature of this journal.</noscript>
        <ul class="search-results__items"></ul>
        <hr />
    </div>
</div>


    
<article class="buckt">
    <h1>All about GPG</h1>
    <div class="title row">
        <div class="date col-6 col-sm-12">
            <div class="pub">
                <img class="img-icon" src="/icons/publish.svg" alt="Date">
                Oct 27, 2020
            </div>
            
        </div>
        <div class="col-6 col-sm-12">
            <div class="time">
                <img class="img-icon" src="/icons/time.svg" alt="Date">
                13
                minutes
            </div>
            <ul class="tags">
                
                <br />
                
                <li><a href="https://nmnx.org/tags/noobs/">
                        <div class="tagid">Noobs</div>
                    </a></li>
                
                <li><a href="https://nmnx.org/tags/privacy/">
                        <div class="tagid">Privacy</div>
                    </a></li>
                
                <li><a href="https://nmnx.org/tags/gpg/">
                        <div class="tagid">GPG</div>
                    </a></li>
                
                
            </ul>
        </div>
    </div>
    <div class="content">
        
        <h2 style="margin:0">Contents</h2>
        <ul>
            
            <li>
                <a href="https://nmnx.org/journal/about-gpg/#case-1-signing">Case 1: Signing</a>
                
                <ul>
                    
                    <li>
                        <a href="https://nmnx.org/journal/about-gpg/#signing-things">Signing things</a>
                    </li>
                    
                    <li>
                        <a href="https://nmnx.org/journal/about-gpg/#verifying-things">Verifying things</a>
                    </li>
                    
                    <li>
                        <a href="https://nmnx.org/journal/about-gpg/#retrieving-the-original">Retrieving the original</a>
                    </li>
                    
                </ul>
                
            </li>
            
            <li>
                <a href="https://nmnx.org/journal/about-gpg/#case-2-encryption">Case 2: Encryption</a>
                
                <ul>
                    
                    <li>
                        <a href="https://nmnx.org/journal/about-gpg/#signing-things-1">Signing things</a>
                    </li>
                    
                    <li>
                        <a href="https://nmnx.org/journal/about-gpg/#verifying-things-1">Verifying things</a>
                    </li>
                    
                    <li>
                        <a href="https://nmnx.org/journal/about-gpg/#retrieving-the-original-1">Retrieving the original</a>
                    </li>
                    
                </ul>
                
            </li>
            
        </ul>
        
        <p>One guide to rule GPG all! In this noob friendly guide, we will learn how to generate, use and sign stuff with GNU Privacy Guard. After reading this guide, your private life will be much more private than ever.</p>
<span id="continue-reading"></span>
<p>GPG is one of the essential tools for your online privacy and security. It also verifies your digital identity using your public key with a public server.</p>
<p>Whether you use your key to encrypt your emails, sign your git commits or just verifying someone's online identity. GPG is your tool to go!</p>
<p>So, open your favorite *sh up and let's start generating a key for you 😄</p>
<p>Firstly, install <code>pinentry</code> package on your *nix system. This will provide a nice password entry interface. Read how to <a href="https://wiki.installgentoo.com/index.php/Package_manager">install packages</a>.</p>
<p>Now append only one of the following line to your <code>~/.gnupg/gpg-agent.conf</code> file, according to your user environment. Personally, I use <code>pinentry-tty</code> due to its minimalistic approach and compatiblity even when system is having its issues.</p>
<p>Do this by <code>vi ~/.gnupg/gpg-agent.conf</code>. Read my journal entry on <a href="/journal/intro-to-vim">intro to vim</a> for quick refresher.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Choose only one of the interface</span><span class="z-comment z-line z-number-sign z-shell">
</span>
<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> For installation environments (best for SSHing)</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If you are on basic TTYs with not much interface.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">pinentry-program</span></span><span class="z-meta z-function-call z-arguments z-shell"> /usr/bin/pinentry-tty</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> For terminal emulators</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If you are using Linux/Mac TUI to enter the passwords.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">pinentry-program</span></span><span class="z-meta z-function-call z-arguments z-shell"> /usr/bin/pinentry-curses</span>
<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> NOOOOO, Apple is best!! :crying_face:</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">pinentry-program</span></span><span class="z-meta z-function-call z-arguments z-shell"> /usr/bin/pinentry-mac</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> For X11/Wayland support</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If you love GTK2 for rest of your life (Mate/XFCE guys)</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">pinentry-program</span></span><span class="z-meta z-function-call z-arguments z-shell"> /usr/bin/pinentry-gtk-2</span>
<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If you love GNOME more than your GF (See notes below)</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">pinentry-program</span></span><span class="z-meta z-function-call z-arguments z-shell"> /usr/bin/pinentry-gnome3</span>
<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If you are on KDE and hate GTK soo much.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">pinentry-program</span></span><span class="z-meta z-function-call z-arguments z-shell"> /usr/bin/pinentry-qt</span>
</span></code></pre>
<p>After doing that, reload the <code>gpg-connect-agent</code> for configs to take effect</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg-connect-agent</span></span><span class="z-meta z-function-call z-arguments z-shell"> reloadagent /bye</span>
<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> It should output OK</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></code></pre>
<p>Now here comes the fun part!</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>full-generate-key</span><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>expert</span></span>
</span></code></pre>
<p>This command will open an interactive terminal menu asking for information of which key you need to generate.
The <code>--expert</code> mode allows us to generate keys of new algorithms. In this case an <strong>ECC algorithm</strong></p>
<p>Now, let's discuss each scenario according to our needs.</p>
<p><a href="/journal/gpg-verification">Case 3: Verification</a></p>
<h2 id="case-1-signing">Case 1: Signing</h2>
<p>In this part, we will learn how to sign stuff with GNU Privacy Guard. After reading this guide, you will be able to digitally sign files and distribute your code with your assurance.</p>
<p>Firstly, we will generate ourselves an ultimate signing key. Before this, you might want to refer to earlier <a href="/journal/all-about-gpg">part here</a>.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Please</span></span><span class="z-meta z-function-call z-arguments z-shell"> select what kind of key you want:</span>
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> RSA and RSA (default</span><span class="z-meta z-function-call z-shell"></span>)
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">2</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> DSA and Elgamal</span>
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">3</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> DSA (sign only</span><span class="z-meta z-function-call z-shell"></span>)
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">4</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> RSA (sign only</span><span class="z-meta z-function-call z-shell"></span>)
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">7</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> DSA (set your own capabilities</span><span class="z-meta z-function-call z-shell"></span>)
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">8</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> RSA (set your own capabilities</span><span class="z-meta z-function-call z-shell"></span>)
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">9</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> ECC and ECC</span>
  <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">10</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> ECC (sign only</span><span class="z-meta z-function-call z-shell"></span>)
  <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">11</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> ECC (set your own capabilities</span><span class="z-meta z-function-call z-shell"></span>)
  <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">13</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> Existing key</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Your</span></span><span class="z-meta z-function-call z-arguments z-shell"> selection<span class="z-keyword z-operator z-regexp z-quantifier z-shell">?</span> 10</span>
</span></code></pre>
<p>Select <em>Option 10</em> from the menu by entering its number, it will show us another screen to select options</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Please</span></span><span class="z-meta z-function-call z-arguments z-shell"> select which elliptic curve you want:</span>
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> Curve 25519</span>
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">3</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> NIST P-256</span>
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">4</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> NIST P-384</span>
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">5</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> NIST P-521</span>
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">6</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> Brainpool P-256</span>
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">7</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> Brainpool P-384</span>
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">8</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> Brainpool P-512</span>
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">9</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> secp256k1</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Your</span></span><span class="z-meta z-function-call z-arguments z-shell"> selection<span class="z-keyword z-operator z-regexp z-quantifier z-shell">?</span> 1</span>
</span></code></pre>
<p>For this scenario, unless you are an absolute expert which most of us don't, I recommend you to visit <a href="http://safecurves.cr.yp.to/">http://safecurves.cr.yp.to/</a> that will help you in explaining which elliptic curve is cryptographically more secure or not. By the time of writing this entry, Curve 25519 is more trustworthy than others, so we will select <em>Option 1</em>.</p>
<pre data-lang="txt" class="language-txt z-code"><code class="language-txt" data-lang="txt"><span class="z-text z-plain">Please specify how long the key should be valid.
         0 = key does not expire
      &lt;n&gt;  = key expires in n days
      &lt;n&gt;w = key expires in n weeks
      &lt;n&gt;m = key expires in n months
      &lt;n&gt;y = key expires in n years
Key is valid for? (0) 2y
</span></code></pre>
<p>Now generally, since the algorithm we selected is secure in long term, we shall set this to <em>2y</em> to sign things for 2 years. However, if you are planning on selecting for more years, you can also do it by renewing the expired key.</p>
<pre data-lang="txt" class="language-txt z-code"><code class="language-txt" data-lang="txt"><span class="z-text z-plain">Key expires at Fri Oct 23 02:41:02 2022 GMT
Is this correct? (y/N)
</span></code></pre>
<p>Now you will be greeted by a confirmation screen with the expiration date and its time, for your reference. Confirm it by entering <em>y</em>.</p>
<pre data-lang="txt" class="language-txt z-code"><code class="language-txt" data-lang="txt"><span class="z-text z-plain">GnuPG needs to construct a user ID to identify your key.

Real name: Xenon Lucifer Diablo
Email address: code@nmnx.org
Comment: Signing key for open source projects and R&amp;D purposes only.
</span></code></pre>
<p>This time you will be asked for your information (Name, Email and Comment) to generate the key with your corresponding email address.
A comment corresponds to its purpose, so write why do you want to use this key.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Change</span></span><span class="z-meta z-function-call z-arguments z-shell"> (N</span><span class="z-meta z-function-call z-shell"></span>)<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">ame,</span></span><span class="z-meta z-function-call z-arguments z-shell"> (C</span><span class="z-meta z-function-call z-shell"></span>)<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">omment,</span></span><span class="z-meta z-function-call z-arguments z-shell"> (E</span><span class="z-meta z-function-call z-shell"></span>)<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">mail</span></span><span class="z-meta z-function-call z-arguments z-shell"> or (O</span><span class="z-meta z-function-call z-shell"></span>)<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">kay/</span></span><span class="z-meta z-function-call z-arguments z-shell">(Q</span><span class="z-meta z-function-call z-shell"></span>)<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">uit?</span></span>
</span></code></pre>
<p>For the final time, it will ask you for any changes (in case of typos). Choose <em>(O)kay</em> for proceeding further.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash">            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">┌──────────────────────────────────────────────────────┐</span></span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell"> Please enter the passphrase to                       │</span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell"> protect your new key                                 │</span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell">                                                      │</span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell"> Passphrase: ________________________________________ │</span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell">                                                      │</span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell">       <span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;</span>OK<span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span>                              <span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;</span>Cancel<span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span>     │</span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">└──────────────────────────────────────────────────────┘</span></span>
</span></code></pre>
<p>Your choosen pinentry interface will now ask for your new password. Enter the password to safeguard your keys and then press <em>tab</em> to <code>&lt;OK&gt;</code> and press <em>return</em>.</p>
<pre data-lang="txt" class="language-txt z-code"><code class="language-txt" data-lang="txt"><span class="z-text z-plain">We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
</span></code></pre>
<p>This message screen will appear where you have to <em>press tons of buttons</em> on your keyboard randomly and <em>shake your mouse</em> like hell! Not doing so will lead you to this message.</p>
<pre data-lang="txt" class="language-txt z-code"><code class="language-txt" data-lang="txt"><span class="z-text z-plain">generator a better chance to gain enough entropy.
Not enough random bytes available. Please do some other work to give the OS a chance to collect more entropy! (Need 281 more bytes)
</span></code></pre>
<p>This means that your system hasn't achieved the required threshold of entropy. An impromptu explaination is provided in <a href="/journal/when-to-use-rng">this entry</a>.</p>
<p>If all went well, then you will be greeted by the following text.</p>
<pre data-lang="txt" class="language-txt z-code"><code class="language-txt" data-lang="txt"><span class="z-text z-plain">gpg: key 033A0E83209937B3 marked as ultimately trusted
gpg: revocation certificate stored as &#39;xxx/xxx/xxx/xxx.rev&#39;
public and secret key created and signed.

pub   ed25519 2020-10-23 [SC] [expires: 2022-10-23]
      ABCDEF0123456789ABCDEF0123456789ABCDEF01
uid                      Xenon Lucifer Diablo (Signing key for open source projects and R&amp;D purposes only.) &lt;code@nmnx.org&gt;
</span></code></pre>
<p>Congratulations! You have successfully generated your signing key. To verify and see your key,</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>list-secret-keys</span><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>keyid-format</span> LONG<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>fingerprint</span></span>
</span></code></pre>
<p>Now export your key using the command</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>export</span><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>armor</span> 033A0E83209937B3</span>
</span></code></pre>
<p>Here, you can see my public key ready to export</p>
<pre data-lang="txt" class="language-txt z-code"><code class="language-txt" data-lang="txt"><span class="z-text z-plain">-----BEGIN PGP PUBLIC KEY BLOCK-----

mDMEX7qsvBYJKwYBBAHaRw8BAQdAVtScTWmCqpQUPFgwI+Ajtaxh1fGXAlTX+uq8
iU0UZI60Ylhlbm9uIEx1Y2lmZXIgRGlhYmxvIChTaWduaW5nIGtleSBmb3Igb3Bl
biBzb3VyY2UgcHJvamVjdHMgYW5kIFImRCBwdXJwb3NlcyBvbmx5LikgPGNvZGVA
bm1ueC5vcmc+iJYEExYIAD4WIQSBXvtaJomyOdMJyiEDOg6DIJk3swUCX7qsvAIb
AwUJA8JnAAULCQgHAgYVCgkICwIEFgIDAQIeAQIXgAAKCRADOg6DIJk3s41NAPoD
WhPkhqeuUwZjHhc/5YZeV3EmiSKP9yges/+iWUqeSgD9FaSyLGahqbJa8Cdtp+fY
jKu3b7TD2PKi33jLrEBKug8=
=HcnM
-----END PGP PUBLIC KEY BLOCK-----
</span></code></pre>
<p>You can verify the key by checking onto my commits of my projects at github.</p>
<h3 id="signing-things">Signing things</h3>
<p>This part is ded simple, we will sign the files and documents using this simple command:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>sign</span><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>default-key</span> code@nmnx.org thelegend27.pdf</span>
</span></code></pre>
<p>where <code>code@nmnx.org</code> is your email address mentioned earlier in generated signing key (if you have multiple keys in your system) whereas <code>thelegend27.pdf</code> is the file name (👀 don't tell anyone). Again this screen will appear before you, just enter your password:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash">            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">┌──────────────────────────────────────────────────────┐</span></span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell"> Please enter the passphrase to                       │</span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell"> protect your new key                                 │</span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell">                                                      │</span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell"> Passphrase: ________________________________________ │</span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell">                                                      │</span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell">       <span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;</span>OK<span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span>                              <span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;</span>Cancel<span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span>     │</span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">└──────────────────────────────────────────────────────┘</span></span>
</span></code></pre>
<p>This will create a signed document ending with extension *.gpg in your working directory which can be verified and decrypted back to original document.</p>
<h3 id="verifying-things">Verifying things</h3>
<p>Again, simple as shit. Just use:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>verify</span> thelegend27.pdf.gpg</span>
</span></code></pre>
<p>and this will do the job! However there are few caveats, that I would like to mention before. <em>Always check the signing comment before decryption</em>. That will allow you to verify the authenticity of the issued document.</p>
<h3 id="retrieving-the-original">Retrieving the original</h3>
<p>Once verified carefully, decrypt the document you have received using the command:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>output</span> topsecret.pdf<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>decrypt</span> thelegend27.pdf.gpg</span>
</span></code></pre>
<p>And you shall receive! The document you yearned for soo long. Ahh the joy! 😌</p>
<h2 id="case-2-encryption">Case 2: Encryption</h2>
<p>In this part, we will learn how to encrypt stuff with GNU Privacy Guard. After reading this guide, you will be able to encrypt/decrypt files and securely transfer your files to it.</p>
<p>Firstly, we will generate ourselves an ultimate signing key. Before this, you might want to refer to earlier <a href="/journal/all-about-gpg">part here</a>.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Please</span></span><span class="z-meta z-function-call z-arguments z-shell"> select what kind of key you want:</span>
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> RSA and RSA (default</span><span class="z-meta z-function-call z-shell"></span>)
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">2</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> DSA and Elgamal</span>
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">3</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> DSA (sign only</span><span class="z-meta z-function-call z-shell"></span>)
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">4</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> RSA (sign only</span><span class="z-meta z-function-call z-shell"></span>)
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">7</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> DSA (set your own capabilities</span><span class="z-meta z-function-call z-shell"></span>)
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">8</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> RSA (set your own capabilities</span><span class="z-meta z-function-call z-shell"></span>)
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">9</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> ECC and ECC</span>
  <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">10</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> ECC (sign only</span><span class="z-meta z-function-call z-shell"></span>)
  <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">11</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> ECC (set your own capabilities</span><span class="z-meta z-function-call z-shell"></span>)
  <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">13</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> Existing key</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Your</span></span><span class="z-meta z-function-call z-arguments z-shell"> selection<span class="z-keyword z-operator z-regexp z-quantifier z-shell">?</span> 10</span>
</span></code></pre>
<p>Select <em>Option 10</em> from the menu by entering its number, it will show us another screen to select options</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Please</span></span><span class="z-meta z-function-call z-arguments z-shell"> select which elliptic curve you want:</span>
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> Curve 25519</span>
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">3</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> NIST P-256</span>
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">4</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> NIST P-384</span>
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">5</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> NIST P-521</span>
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">6</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> Brainpool P-256</span>
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">7</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> Brainpool P-384</span>
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">8</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> Brainpool P-512</span>
   <span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">9</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> secp256k1</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Your</span></span><span class="z-meta z-function-call z-arguments z-shell"> selection<span class="z-keyword z-operator z-regexp z-quantifier z-shell">?</span> 1</span>
</span></code></pre>
<p>For this scenario, unless you are an absolute expert which most of us don't, I recommend you to visit <a href="http://safecurves.cr.yp.to/">http://safecurves.cr.yp.to/</a> that will help you in explaining which elliptic curve is cryptographically more secure or not. By the time of writing this entry, Curve 25519 is more trustworthy than others, so we will select <em>Option 1</em>.</p>
<pre data-lang="txt" class="language-txt z-code"><code class="language-txt" data-lang="txt"><span class="z-text z-plain">Please specify how long the key should be valid.
         0 = key does not expire
      &lt;n&gt;  = key expires in n days
      &lt;n&gt;w = key expires in n weeks
      &lt;n&gt;m = key expires in n months
      &lt;n&gt;y = key expires in n years
Key is valid for? (0) 2y
</span></code></pre>
<p>Now generally, since the algorithm we selected is secure in long term, we shall set this to <em>2y</em> to sign things for 2 years. However, if you are planning on selecting for more years, you can also do it by renewing the expired key.</p>
<pre data-lang="txt" class="language-txt z-code"><code class="language-txt" data-lang="txt"><span class="z-text z-plain">Key expires at Fri Oct 23 02:41:02 2022 GMT
Is this correct? (y/N)
</span></code></pre>
<p>Now you will be greeted by a confirmation screen with the expiration date and its time, for your reference. Confirm it by entering <em>y</em>.</p>
<pre data-lang="txt" class="language-txt z-code"><code class="language-txt" data-lang="txt"><span class="z-text z-plain">GnuPG needs to construct a user ID to identify your key.

Real name: Xenon Lucifer Diablo
Email address: code@nmnx.org
Comment: Signing key for open source projects and R&amp;D purposes only.
</span></code></pre>
<p>This time you will be asked for your information (Name, Email and Comment) to generate the key with your corresponding email address.
A comment corresponds to its purpose, so write why do you want to use this key.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Change</span></span><span class="z-meta z-function-call z-arguments z-shell"> (N</span><span class="z-meta z-function-call z-shell"></span>)<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">ame,</span></span><span class="z-meta z-function-call z-arguments z-shell"> (C</span><span class="z-meta z-function-call z-shell"></span>)<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">omment,</span></span><span class="z-meta z-function-call z-arguments z-shell"> (E</span><span class="z-meta z-function-call z-shell"></span>)<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">mail</span></span><span class="z-meta z-function-call z-arguments z-shell"> or (O</span><span class="z-meta z-function-call z-shell"></span>)<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">kay/</span></span><span class="z-meta z-function-call z-arguments z-shell">(Q</span><span class="z-meta z-function-call z-shell"></span>)<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">uit?</span></span><span class="z-meta z-function-call z-arguments z-shell"> </span>
</span></code></pre>
<p>For the final time, it will ask you for any changes (in case of typos). Choose <em>(O)kay</em> for proceeding further.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash">            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">┌──────────────────────────────────────────────────────┐</span></span><span class="z-meta z-function-call z-arguments z-shell">            </span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell"> Please enter the passphrase to                       │            </span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell"> protect your new key                                 │            </span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell">                                                      │            </span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell"> Passphrase: ________________________________________ │            </span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell">                                                      │            </span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell">       <span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;</span>OK<span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span>                              <span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;</span>Cancel<span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span>     │            </span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">└──────────────────────────────────────────────────────┘</span></span><span class="z-meta z-function-call z-arguments z-shell">            </span>
</span></code></pre>
<p>Your choosen pinentry interface will now ask for your new password. Enter the password to safeguard your keys and then press <em>tab</em> to <code>&lt;OK&gt;</code> and press <em>return</em>.</p>
<pre data-lang="txt" class="language-txt z-code"><code class="language-txt" data-lang="txt"><span class="z-text z-plain">We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
</span></code></pre>
<p>This message screen will appear where you have to <em>press tons of buttons</em> on your keyboard randomly and <em>shake your mouse</em> like hell! Not doing so will lead you to this message.</p>
<pre data-lang="txt" class="language-txt z-code"><code class="language-txt" data-lang="txt"><span class="z-text z-plain">generator a better chance to gain enough entropy.
Not enough random bytes available. Please do some other work to give the OS a chance to collect more entropy! (Need 281 more bytes)
</span></code></pre>
<p>This means that your system hasn't achieved the required threshold of entropy. An impromptu explaination is provided in <a href="/journal/when-to-use-rng">this entry</a>.</p>
<p>If all went well, then you will be greeted by the following text.</p>
<pre data-lang="txt" class="language-txt z-code"><code class="language-txt" data-lang="txt"><span class="z-text z-plain">gpg: key 033A0E83209937B3 marked as ultimately trusted
gpg: revocation certificate stored as &#39;xxx/xxx/xxx/xxx.rev&#39;
public and secret key created and signed.

pub   ed25519 2020-10-23 [SC] [expires: 2022-10-23]
      ABCDEF0123456789ABCDEF0123456789ABCDEF01
uid                      Xenon Lucifer Diablo (Signing key for open source projects and R&amp;D purposes only.) &lt;code@nmnx.org&gt;
</span></code></pre>
<p>Congratulations! You have successfully generated your signing key. To verify and see your key,</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>list-secret-keys</span><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>keyid-format</span> LONG<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>fingerprint</span></span>
</span></code></pre>
<p>Now export your key using the command</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>export</span><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>armor</span> 033A0E83209937B3</span>
</span></code></pre>
<p>Here, you can see my public key ready to export</p>
<pre data-lang="txt" class="language-txt z-code"><code class="language-txt" data-lang="txt"><span class="z-text z-plain">-----BEGIN PGP PUBLIC KEY BLOCK-----

mDMEX7qsvBYJKwYBBAHaRw8BAQdAVtScTWmCqpQUPFgwI+Ajtaxh1fGXAlTX+uq8
iU0UZI60Ylhlbm9uIEx1Y2lmZXIgRGlhYmxvIChTaWduaW5nIGtleSBmb3Igb3Bl
biBzb3VyY2UgcHJvamVjdHMgYW5kIFImRCBwdXJwb3NlcyBvbmx5LikgPGNvZGVA
bm1ueC5vcmc+iJYEExYIAD4WIQSBXvtaJomyOdMJyiEDOg6DIJk3swUCX7qsvAIb
AwUJA8JnAAULCQgHAgYVCgkICwIEFgIDAQIeAQIXgAAKCRADOg6DIJk3s41NAPoD
WhPkhqeuUwZjHhc/5YZeV3EmiSKP9yges/+iWUqeSgD9FaSyLGahqbJa8Cdtp+fY
jKu3b7TD2PKi33jLrEBKug8=
=HcnM
-----END PGP PUBLIC KEY BLOCK-----
</span></code></pre>
<p>You can verify the key by checking onto my commits of my projects at github.</p>
<h3 id="signing-things-1">Signing things</h3>
<p>This part is ded simple, we will sign the files and documents using this simple command:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>sign</span><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>default-key</span> code@nmnx.org thelegend27.pdf</span>
</span></code></pre>
<p>where <code>code@nmnx.org</code> is your email address mentioned earlier in generated signing key (if you have multiple keys in your system) whereas <code>thelegend27.pdf</code> is the file name (👀 don't tell anyone). Again this screen will appear before you, just enter your password:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash">            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">┌──────────────────────────────────────────────────────┐</span></span><span class="z-meta z-function-call z-arguments z-shell">            </span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell"> Please enter the passphrase to                       │            </span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell"> protect your new key                                 │            </span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell">                                                      │            </span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell"> Passphrase: ________________________________________ │            </span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell">                                                      │            </span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">│</span></span><span class="z-meta z-function-call z-arguments z-shell">       <span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;</span>OK<span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span>                              <span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;</span>Cancel<span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span>     │            </span>
            <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">└──────────────────────────────────────────────────────┘</span></span><span class="z-meta z-function-call z-arguments z-shell">            </span>
</span></code></pre>
<p>This will create a signed document ending with extension *.gpg in your working directory which can be verified and decrypted back to original document.</p>
<h3 id="verifying-things-1">Verifying things</h3>
<p>Again, simple as shit. Just use:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>verify</span> thelegend27.pdf.gpg</span>
</span></code></pre>
<p>and this will do the job! However there are few caveats, that I would like to mention before. <em>Always check the signing comment before decryption</em>. That will allow you to verify the authenticity of the issued document.</p>
<h3 id="retrieving-the-original-1">Retrieving the original</h3>
<p>Once verified carefully, decrypt the document you have received using the command:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>output</span> topsecret.pdf<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>decrypt</span> thelegend27.pdf.gpg</span>
</span></code></pre>
<p>And you shall receive! The document you yearned for soo long. Ahh the joy! 😌</p>
<p>That's all for today! Thank you for reading this crap. Let's see you again next time.</p>
<!-- Since this entry's size is large, I have decided to introduce several parts to this [series](/tags/gpg).

That's all for today! Thank you for reading this crap. Let's see you again next time. -->

    </div>
</article>


    
<div class="footer">
    <div class="buckt row">
        <div class="copy col-4 col-sm-12">
            echo (C) 2023&nbsp;<a href="https://nmnx.org" target="_blank"
                rel="nofollow noreferrer">Naman
                Bishnoi</a>&nbsp;| cat
        </div>
        <ul class="links col-8 col-sm-12">
            <li><a href="mailto:me@nmnx.org" target="_blank" title="me@nmnx.org"
                    rel="nofollow noreferrer">me@nmnx.org</a></li>
            
            <li><a class=""
                     href="https:&#x2F;&#x2F;nmnx.org&#x2F;about"
                    title="about" rel="nofollow noreferrer">/about</a></li>
            
            <li><a class=""
                     href="https:&#x2F;&#x2F;nmnx.org&#x2F;donate"
                    title="donate" rel="nofollow noreferrer">/donate</a></li>
            
            <li><a class=""
                     href="https:&#x2F;&#x2F;nmnx.org&#x2F;credits"
                    title="credits" rel="nofollow noreferrer">/credits</a></li>
            
            <li><a class=""
                     href="https:&#x2F;&#x2F;nmnx.org&#x2F;privacy"
                    title="privacy" rel="nofollow noreferrer">/privacy</a></li>
            
            <li><a class=""
                     href="https:&#x2F;&#x2F;nmnx.org&#x2F;pgp"
                    title="pgp" rel="nofollow noreferrer">/pgp</a></li>
            
            <li><a class=""
                     href="https:&#x2F;&#x2F;nmnx.org&#x2F;#"
                    title="top" rel="nofollow noreferrer">/top</a></li>
            
            <li>
                <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank"
                    title="Creative Commons License" rel="nofollow noreferrer">
                    <img class="img-icon" src="/icons/cc.svg">
                    <img class="img-icon" src="/icons/by.svg">
                    <img class="img-icon" src="/icons/nc.svg">
                    <img class="img-icon" src="/icons/sa.svg">
                </a>
            </li>
            <!-- "/ARFR6J0=" -->
        </ul>
    </div>
</div>


    <script type="text/javascript" src="/elasticlunr.min.js"></script>
    <script type="text/javascript" src="/search_index.en.js"></script>
    <script type="text/javascript" src="/search.js"></script>
</body>

</html>