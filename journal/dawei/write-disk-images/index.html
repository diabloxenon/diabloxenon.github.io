<!DOCTYPE html>
<html lang="en">

<head>
    

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="icon" href="/favicon.ico" type="image/x-icon">



<title>dd this, dd that - diabloxenon | nmnx.org</title>
<meta property="og:title" content="dd this, dd that - diabloxenon | nmnx.org">
<meta property="twitter:title" content="dd this, dd that - diabloxenon | nmnx.org">


<meta name="description" content="Basic procedure on dding the image to your flash drive.
">
<meta property="og:description" content="Basic procedure on dding the image to your flash drive.
">
<meta property="twitter:description" content="Basic procedure on dding the image to your flash drive.
">


<meta property="og:url" content="https://nmnx.org/journal/dawei/write-disk-images/">
<meta property="og:locale" content="en-UK">
<meta property="og:image" content="">
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:image" content="">
<meta name="twitter:site" content="https://twitter.com/diabloxenon">
<meta name="twitter:creator" content="@diabloxenon">




    <link rel="stylesheet" href="/xeno.css"
        integrity="sha512-yiQuzOhusjguEqJYBOfgmmHRA5Qgpg1UdTJEg6cxhucaBgEKlvGCDedwGJHahO7NXtItEi2rNZ0bO4Sp1wU2+w==">
</head>

<body class="xeno">
    
<div class="buckt">
    <header class="navbar row">
        <div class="col-6 col-sm-12 row">
            <div class="col-3 col-sm-12"><a href="https:&#x2F;&#x2F;nmnx.org">diabloxenon</a>:~#</div>
            <div class="col-9 col-sm-12 prompt">


/<a href="/journal/" title="journal">journal</a>/<a href="/journal&#x2F;dawei/" title="dawei">dawei</a>/<a href="/journal&#x2F;dawei&#x2F;write-disk-images/" title="write-disk-images">write-disk-images</a>/<a href="/journal&#x2F;dawei&#x2F;write-disk-images&#x2F;/" title=""></a>

</div>
        </div>
        <div class="col-1 col-sm-12"><input id="search" placeholder="&#xf002; search"></input></div>
        <nav class="navlinks col-5 col-sm-12 row">
            <ul class="group col-8 col-sm-12">
                
                <li><a class=""
                         href="https:&#x2F;&#x2F;nmnx.org&#x2F;awards"
                        title="awards" rel="nofollow noreferrer">/awards</a></li>
                
                <li><a class=""
                         href="https:&#x2F;&#x2F;nmnx.org&#x2F;journal"
                        title="journal" rel="nofollow noreferrer">/journal</a></li>
                
                <li><a class=""
                         href="https:&#x2F;&#x2F;nmnx.org&#x2F;dev"
                        title="dev" rel="nofollow noreferrer">/dev</a></li>
                
                <li><a class=""
                         href="https:&#x2F;&#x2F;nmnx.org&#x2F;tags"
                        title="tags" rel="nofollow noreferrer">/tags</a></li>
                
            </ul>
            <ul class="social col-4 col-sm-12">
                
                <li><a class=""
                         href="https:&#x2F;&#x2F;github.com&#x2F;diabloxenon"
                        title="&amp;#xf09b;" target="_blank" rel="nofollow noreferrer"><span
                            class="icon">&#xf09b;</span></a>
                </li>
                
                <li><a class=""
                         href="https:&#x2F;&#x2F;t.me&#x2F;diabloxenon"
                        title="&amp;#xe217;" target="_blank" rel="nofollow noreferrer"><span
                            class="icon">&#xe217;</span></a>
                </li>
                
                <li><a class=""
                         href="https:&#x2F;&#x2F;twitter.com&#x2F;diabloxenon"
                        title="&amp;#xf099;" target="_blank" rel="nofollow noreferrer"><span
                            class="icon">&#xf099;</span></a>
                </li>
                
            </ul>
        </nav>
    </header>
</div>


    
<div class="buckt">
    <div class="search-results">
        <h1>Search Results</h1>
        <noscript>Enable Javascript to use the search feature of this journal.</noscript>
        <ul class="search-results__items"></ul>
        <hr />
    </div>
</div>


    
<article class="buckt">
    <h1>dd this, dd that</h1>
    <div class="title row">
        <div class="date col-6 col-sm-12">
            <div class="pub">
                <span class="icon">&#xfb4e;</span> Mar 12, 2021
            </div>
            
        </div>
        <div class="col-6 col-sm-12">
            <div class="time">
                <span class="icon">&#xfa1a;</span> 3 minutes
            </div>
            <ul class="tags">
                
                <br />
                
                <li><a href="https://nmnx.org/tags/linux/">
                        <div class="tagid">Linux</div>
                    </a></li>
                
                <li><a href="https://nmnx.org/tags/noobs/">
                        <div class="tagid">NOOBS</div>
                    </a></li>
                
                <li><a href="https://nmnx.org/tags/da-wei/">
                        <div class="tagid">Da Wei</div>
                    </a></li>
                
                
            </ul>
        </div>
    </div>
    <div class="content">
        
        <h2 style="margin:0">Contents</h2>
        <ul>
            
            <li>
                <a href="https://nmnx.org/journal/dawei/write-disk-images/#step-0-check-the-drive">Step 0: Check the drive</a>
                
            </li>
            
            <li>
                <a href="https://nmnx.org/journal/dawei/write-disk-images/#step-1-wipe-the-headers">Step 1: Wipe the headers</a>
                
            </li>
            
            <li>
                <a href="https://nmnx.org/journal/dawei/write-disk-images/#step-2-remove-gpt-data">Step 2: Remove GPT data</a>
                
            </li>
            
            <li>
                <a href="https://nmnx.org/journal/dawei/write-disk-images/#step-3-clean-the-remnants-of-partition">Step 3: Clean the remnants of partition</a>
                
            </li>
            
            <li>
                <a href="https://nmnx.org/journal/dawei/write-disk-images/#step-4-verify-image-checksum">Step 4: Verify image checksum</a>
                
            </li>
            
            <li>
                <a href="https://nmnx.org/journal/dawei/write-disk-images/#final-step-let-s-clone-it">Final Step: Let&#x27;s clone it!</a>
                
            </li>
            
            <li>
                <a href="https://nmnx.org/journal/dawei/write-disk-images/#finished">Finished</a>
                
            </li>
            
        </ul>
        
        <p>Basic procedure on <code>dd</code>ing the image to your flash drive.</p>
<span id="continue-reading"></span>
<p>Making things simple, we will use 4 of the powerful commands on linux just to <code>dd</code> the stuff on drive.</p>
<h3 id="step-0-check-the-drive">Step 0: Check the drive</h3>
<p>I can't emphasize this enough but one of the basic mistake by noobies is to copy the commands without understanding their function. This includes the drive name too, so make sure you are using the correct drive to work with as THIS WILL REALLY FUCK UP YOUR DATA IF DONE WRONG.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Match the device id and its size mentioned in outupt with your corresponding drive.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> fdisk<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>l</span></span>
</span></code></pre>
<h3 id="step-1-wipe-the-headers">Step 1: Wipe the headers</h3>
<p>Some drives even after wiping will have associated partition table information that can result in corruption of data and in many cases making drive invalid. To clean this, <code>wipefs</code> utility will be used.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Make sure to select the correct device</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> wipefs<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>af</span> /dev/sde</span>
</span></code></pre>
<h3 id="step-2-remove-gpt-data">Step 2: Remove GPT data</h3>
<p>If you are using a Linux on a modern machine (with UEFI enabled), there is a high chance that your drive contains GPT (GUID Partition Table) in it. To clean this, <code>sgdisk</code> utility will be used.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Again, select the right device</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> sgdisk<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>zap-all</span> /dev/sde</span>
</span></code></pre>
<h3 id="step-3-clean-the-remnants-of-partition">Step 3: Clean the remnants of partition</h3>
<p>Sometimes to protect drive from corruption, there are backup of partition tables on specific locations. This can cause faulty overwrites with the old partitioning to the new, if cloning an image. Good example of this is if flashing different Raspberry Pi images on same SD card. To clean this, <code>shred</code> command will be used.
This command will select a random source, in our case <code>/dev/urandom</code> and overwrite the bits on drive from random source.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Last time, check if device is right. No crying afterwards!</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> shred<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>verbose</span><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>random-source</span><span class="z-keyword z-operator z-assignment z-option z-shell">=</span>/dev/urandom<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>iterations</span><span class="z-keyword z-operator z-assignment z-option z-shell">=</span>1 /dev/sde</span>
</span></code></pre>
<h3 id="step-4-verify-image-checksum">Step 4: Verify image checksum</h3>
<p>No matter from where you have downloaded disk image, you should always verify the image's hash signature only if obtained from trusted sources.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Use the checksum only if the source obtained from is trusted.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sha1sum</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;</span>file_name.iso<span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span>
</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">md5</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;</span>file_name.iso<span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span>
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> match the output of the command with your checksum</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></code></pre>
<h3 id="final-step-let-s-clone-it">Final Step: Let's clone it!</h3>
<p>Okay, so the final part is here. This one is much more simple to follow.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> dd if=<span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;</span>path_to_image<span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> bs=16M of=/dev/sde oflag=direct status=progress</span>
<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Wait for this command to finish the cloning procedure</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></code></pre>
<h3 id="finished">Finished</h3>
<p>Final wording is, just check the drive to see if it's actually working or not.</p>

    </div>
</article>


    
<div class="footer">
    <div class="buckt row">
        <div class="copy col-4 col-sm-12">
            echo (C) 2021&nbsp;<a href="https://nmnx.org" target="_blank"
                rel="nofollow noreferrer">Naman
                Bishnoi</a>&nbsp;| cat
        </div>
        <ul class="links col-8 col-sm-12">
            <li><a href="mailto:me@nmnx.org" target="_blank" title="me@nmnx.org"
                    rel="nofollow noreferrer">me@nmnx.org</a></li>
            
            <li><a class=""
                     href="https:&#x2F;&#x2F;nmnx.org&#x2F;about"
                    title="about" rel="nofollow noreferrer">/about</a></li>
            
            <li><a class=""
                     href="https:&#x2F;&#x2F;nmnx.org&#x2F;donate"
                    title="donate" rel="nofollow noreferrer">/donate</a></li>
            
            <li><a class=""
                     href="https:&#x2F;&#x2F;nmnx.org&#x2F;credits"
                    title="credits" rel="nofollow noreferrer">/credits</a></li>
            
            <li><a class=""
                     href="https:&#x2F;&#x2F;nmnx.org&#x2F;privacy"
                    title="privacy" rel="nofollow noreferrer">/privacy</a></li>
            
            <li><a class=""
                     href="https:&#x2F;&#x2F;nmnx.org&#x2F;pgp"
                    title="pgp" rel="nofollow noreferrer">/pgp</a></li>
            
            <li><a class=""
                     href="https:&#x2F;&#x2F;nmnx.org&#x2F;#"
                    title="top" rel="nofollow noreferrer">/top</a></li>
            
            <li>
                <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank"
                    title="Creative Commons License" rel="nofollow noreferrer"><span class="icon">&#xe291;</span><span
                        class="icon">&#xe290;</span><span class="icon">&#xe292;</span><span
                        class="icon">&#xe297;</span></a>
            </li>
            <!-- "/ARFR6J0=" -->
        </ul>
    </div>
</div>


    <script type="text/javascript" src="/elasticlunr.min.js"></script>
    <script type="text/javascript" src="/search_index.en.js"></script>
    <script type="text/javascript" src="/search.js"></script>
</body>

</html>